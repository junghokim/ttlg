@import 'all'

@mixin page-shadow
	@include box-shadow(0, 0, 12px, black)

//
// Important numbers
//

$line: 24
$column: 100% / 18
$font-size: 16
$em: $font-size * 1

//
// Colours
//

$blue: #3CF
$light-grey: #E1E1E1
$grey: #999999

// For Article

$yellow: #FDE700


//	Margin, padding, and border resets
//	except for form elements

html, body, div, span, object, iframe, h1, h2, h3, h4, h5, h6, p, a, blockquote, pre, abbr, address, cite, code, del, dfn, em, img, ins, kbd, q, samp, small, strong, sub, sup, var, b, i, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td, article, aside, figure, footer, header, hgroup, nav, section, menu, time, mark, audio, video, canvas 
	margin: 0
	padding: 0
	border: 0



//	
//	
//	Consistency fixes
//	adopted from http://necolas.github.com/normalize.css/
//	
//	

html 
	height: 100%
	-webkit-text-size-adjust: 100%
	-ms-text-size-adjust: 100%

body 
	min-height: 100%
	font-size: 100%

article, aside, details, figcaption, figure,
footer, header, hgroup, nav, section, audio, canvas, video 
	display: block

sub, sup 
	font-size: 75%
	line-height: 0
	position: relative
	vertical-align: baseline

sup 
	top: -0.5em

sub 
	bottom: -0.25em

pre 
	white-space: pre
	white-space: pre-wrap
	word-wrap: break-word

b, strong 
	font-weight: bold

abbr[title] 
	border-bottom: 1px dotted

input, textarea, button, select 
	margin: 0
	font-size: 100%
	line-height: normal
	vertical-align: baseline

button,
html input[type="button"],
input[type="reset"],
input[type="submit"] 
	cursor: pointer
	-webkit-appearance: button

input[type="checkbox"],
input[type="radio"] 
	-webkit-box-sizing: border-box
	-moz-box-sizing: border-box
	-ms-box-sizing: border-box
	-o-box-sizing: border-box
	box-sizing: border-box

textarea 
	overflow: auto

table 
	border-collapse: collapse
	border-spacing: 0



//	
//	
//	Simple fluid media
//	
//	

figure 
	position: relative

figure img, figure object, figure embed, figure video 
	max-width: 100%
	display: block

img 
	border: 0
	-ms-interpolation-mode: bicubic



//	
//	
//	Zoomable baseline grid
//	type size presets
//	
//	

body 
	/* 16px / 24px */
	font-size: $font-size / 16 * 1em
	line-height: #{$line / $em}em


.small 
	/* 13px / 18px */
	font-size: #{($font-size*0.8125) / $em}em
	line-height: ($line*0.75) / ($font-size*0.8125) * 1em


.normal, h3 
	/* 16px / 24px */
	font-size: #{$font-size / $em}em
	line-height: #{$line / $em}em /* 24 */


.large, h2, h1 
	/* 26 / 36px */
	font-size: #{26 / $em}em
	line-height: ($line*1.5) / 26 * 1em


.huge 
	/* 42px / 48px */
	font-size: #{42 / $em}em
	line-height: ($line*2) / 42 * 1em


.massive 
	/* 68px / 72px */
	font-size: #{68 / $em}em
	line-height: ($line*3) / 68 * 1em


.gigantic 
	/* 110px / 120px */
	font-size: #{110 / $em}em
	line-height: ($line*5) / 110 * 1em



//	
//	
//	Four-column grid active
//	----------------------------------------
//	Margin   | #  1   2   3   4   |   Margin
//	5.55555% | %  25  50  75  100 | 5.55555%
//	
//	

header#cover 
	margin: 0


header, #twoway 
	margin: 0 $column


h1, h2 
	margin: (24/26*1em) 0 (36/26*1em)


h2 
	font-weight: normal


h3 
	margin: #{24 / $em}em 0 #{24 / $em}em


//	
//	Simple elastic gutters
//	Note: box-sizing will not work in IE6-7
//	

.wrapper 
	padding: 0 #{($line/2) / $em}em
	-webkit-box-sizing: border-box
	-moz-box-sizing: border-box
	-ms-box-sizing: border-box
	box-sizing: border-box






//	
//	
//	Eight-column grid active
//	----------------------------------------------------------------------
//	Margin   | #  1     2     3     4     5     6     7     8   |   Margin
//	5.55555% | %  12.5  25.0  37.5  50.0  62.5  75.0  87.5  100 | 5.55555%
//	
//	
//	

/* @media screen and (min-width: 720px) */
@media screen and (min-width: 45em) 

	body 
		/* Reset baseline grid to 16/16 = 1 */
		font-size: #{($font-size) / $em}em
	

	#twoway .wrapper 
		float: left
		width: 50%
	

/* @media screen and (min-width: 984px) */
@media screen and (min-width: 61.5em) 

	body 
		/* Reset baseline grid to 16/16 = 1.0 */
		font-size: #{($font-size) / $em}em
	

	header, #twoway 
		margin: 0 $column*3
	




//	
//	
//	Sixteen-column grid active
//	----------------------------------------------------------------------------------------------------------------------
//	Margin   | #  1     2     3     4     5     6     7     8     9     10    11    12    13    14    15    16  |   Margin
//	5.55555% | %  6.25  12.5  18.75 25.0  31.25 37.5  43.75 50.0  56.25 62.5  68.75 75.0  81.25 87.5  93.75 100 | 5.55555%
//	
//	
//	

/* @media screen and (min-width: 1872px) */
@media screen and (min-width: 117em) 

	header, #twoway 
		margin: 0 $column*1
	#cover .wrapper h1 
		margin-left: 12.5%
	#twoway .wrapper 
		width: 25%
	#twoway .wrapper:first-child 
		margin-left: 25%
	



//	
//	
//	My shit
//	
//	
body
	padding-bottom: 3em
	font-family: 'jubilat', Helvetica, Arial, sans-serif
	font-weight: 400
header#masthead
	float: left
	z-index: 1
	position: fixed
	margin: 1.5em 0 0 $column*1
	width: $column*2
	.wrapper
		position: relative
		width: 100%
		height: 100%
		hgroup#mini-mast
			z-index: 2
			position: absolute
			right: 0.75em
			left: 0.75em
			bottom: 9em
			h1, h2
				margin: 0
				text-shadow: 0 1px 3px lighten(black, 30%)
			h1
				font-size: #{26 / $em}em
				line-height: 1em
				color: lighten($blue, 20%)
			h2
				color: $light-grey
		img#logo
			width: 50%
			opacity: 0.8
.pagination-previous, .pagination-next
	opacity: 0.7
.previous-container
	position: fixed
	top: 50%
	left: $column*1/5
	margin-top: -33px
	.pagination-previous
		float: left
		display: inline-block
		width: 66px
		height: 66px
		color: white
		background: url('../images/pagination-previous.png') center center no-repeat transparent
		text-indent: -1000em
	.previous-article-title
		float: left
		display: none
		margin: 1.25em 0 0 0.75em
		color: white
	&:hover
		.pagination-previous
			opacity: 1.0
		.previous-article-title
			display: inline-block
.next-container
	position: fixed
	top: 50%
	right: $column*1/5
	margin-top: -33px
	.pagination-next
		float: right
		display: inline-block
		width: 66px
		height: 66px
		color: white
		background: url('../images/pagination-next.png') center center no-repeat transparent
		text-indent: -1000em
	.next-article-title
		float: right
		display: none
		margin: 1.25em 0.75em 0 0
		color: white
	&:hover
		.pagination-next
			opacity: 1.0
		.next-article-title
			display: inline-block

//
//
// Article Stuff
//
//
section.article
	float: left
	width: 100%
	#cover
		float: left
		display: block
		overflow: auto
		padding: 1.5em $column*1
		width: 100%
		background: url('../images/cover-large.jpg') top left no-repeat
		background-size: cover
		box-sizing: border-box
		@include page-shadow
	header
		float: left
		margin: 0
		padding: 1.5em  0 1.5em $column*5
		width: 100%
		background: $yellow
		@include page-shadow
		box-sizing: border-box
	#article-title.wrapper
		position: absolute
		right: 0
		bottom: 20%
		padding: 2em $column*1 2em 2em
		text-align: right
		background: $yellow
		@include border-radius-ind(top, left, 4px)
		@include border-radius-ind(bottom, left, 4px)
		opacity: 0.95
		h1
			margin: 0
			color: $blue
			font-weight: 100
			//text-shadow: 0 2px 3px #555
		h2
			margin: 0
			font-family: 'omnes-pro', sans-serif
			font-weight: 200
			font-style: italic
// Styling for the destination containers
article#story
	float: left
	padding: 0 $column*1
	h2
		font-weight: 600
	#district-1, #district-2
		overflow: hidden
		margin-top: 3em
	#district-1
		float: left
		width: 100%
		height: 100%
		#region-1, #region-2, #region-3 /* .wrapper */
			float: left
			margin-left: 25%
			width: 50%
			height: 27em
		#image-1
			float: right
			width: 25%
			img
				width: 100%
			.caption
				padding-top: 0.75em
				border-top: .25em solid $light-grey
		#region-2 /* .wrapper */
			height: 12em
			width: 75%
		#region-3 /* .wrapper */
			height: 21em
			width: 75%
	#district-2
		float: left
		width: 100%
		height: 60em
		#region-4
			display: block
			float: left
			margin-left: 25%
			width: 75%
			height: 20em
		#quote-1
			margin-left: 25%
			width: 37.5%
		blockquote
			float: left
			margin: 0
			padding: 1.5em
			font-weight: 100
			font-style: italic
			color: $blue
			border-top: 1px dotted green
			border-bottom: 1px dotted green
			// Not automatically applied with GGS
			box-sizing: border-box
.destination
	display: block
	// Flowed content will automatically overflow the container, this stops it
	//overflow: hidden
	// Content destinations need to have a fixed height declared, otherwise they default to the equivalent of height: auto
	//height: 100%
// Making things flow
#article
	-webkit-flow-into: article_flow
	h2
		margin-top: 0
	p
		margin-bottom: 1.5em
		-webkit-hyphens: auto
article#story
	#region-1, #region-2, #region-3, #region-4
		content: -webkit-from-flow('article_flow')
		-webkit-flow-from: article_flow
		box-sizing: border-box
	// Styling different regions... differently